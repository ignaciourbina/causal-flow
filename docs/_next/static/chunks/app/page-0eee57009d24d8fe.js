(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2676:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>X});var a=r(5155),n=r(2115),i=r.t(n,2),o=r(9434);let l=n.forwardRef((e,t)=>{let{className:r,type:n,...i}=e;return(0,a.jsx)("input",{type:n,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});l.displayName="Input";var d=r(6101),s=Symbol.for("react.lazy"),c=i[" use ".trim().toString()];function f(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===s&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function u(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...a}=e;if(f(r)&&"function"==typeof c&&(r=c(r._payload)),n.isValidElement(r)){var i;let e,o;let l=(i=r,(o=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(o=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),s=function(e,t){let r={...t};for(let a in t){let n=e[a],i=t[a];/^on[A-Z]/.test(a)?n&&i?r[a]=(...e)=>{let t=i(...e);return n(...e),t}:n&&(r[a]=n):"style"===a?r[a]={...n,...i}:"className"===a&&(r[a]=[n,i].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==n.Fragment&&(s.ref=t?(0,d.t)(t,l):l),n.cloneElement(r,s)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:i,...o}=e;f(i)&&"function"==typeof c&&(i=c(i._payload));let l=n.Children.toArray(i),d=l.find(x);if(d){let e=d.props.children,i=l.map(t=>t!==d?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,a.jsx)(t,{...o,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,i):null})}return(0,a.jsx)(t,{...o,ref:r,children:i})});return r.displayName=`${e}.Slot`,r}var m=u("Slot"),p=Symbol("radix.slottable");function x(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===p}let h=(0,r(2085).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),v=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:l=!1,...d}=e;return(0,a.jsx)(l?m:"button",{className:(0,o.cn)(h({variant:n,size:i,className:r})),ref:t,...d})});v.displayName="Button";var g=r(157);let b=(0,g.A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);function y(e){let{onAddVariable:t,existingVariables:r}=e,[i,o]=(0,n.useState)("");return(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),""!==i.trim()){if(r.some(e=>e.name.toLowerCase()===i.trim().toLowerCase())){alert("Variable name already exists.");return}t(i.trim()),o("")}},className:"space-y-3",children:[(0,a.jsx)(l,{type:"text",placeholder:"Enter variable name (e.g., X1, Y)",value:i,onChange:e=>o(e.target.value),"aria-label":"New variable name"}),(0,a.jsxs)(v,{type:"submit",className:"w-full",variant:"outline",children:[(0,a.jsx)(b,{className:"mr-2 h-4 w-4"})," Add Variable"]}),r.length>0&&(0,a.jsxs)("div",{className:"mt-4 space-y-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-muted-foreground",children:"Current Variables:"}),(0,a.jsx)("ul",{className:"list-disc list-inside text-sm",children:r.map(e=>(0,a.jsx)("li",{children:e.name},e.id))})]})]})}let I=(0,g.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function N(e){let{numPeriods:t,onSetNumPeriods:r}=e,[i,o]=(0,n.useState)(t.toString());return(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=parseInt(i,10);if(isNaN(t)||t<=0){alert("Please enter a valid positive number for periods.");return}r(t)},className:"space-y-3",children:[(0,a.jsx)(l,{type:"number",placeholder:"Enter number of periods (e.g., 3)",value:i,onChange:e=>o(e.target.value),min:"1","aria-label":"Number of time periods"}),(0,a.jsxs)(v,{type:"submit",className:"w-full",variant:"outline",children:[(0,a.jsx)(I,{className:"mr-2 h-4 w-4"})," Set Periods"]})]})}let j=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});j.displayName="Card";let w=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",r),...n})});w.displayName="CardHeader";let k=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});k.displayName="CardTitle";let C=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...n})});C.displayName="CardDescription";let S=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",r),...n})});S.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter";let M=n.forwardRef((e,t)=>{let{variableName:r,nodeId:n,onClick:i,isDrawingSource:l,isValidTarget:d}=e;return(0,a.jsx)("div",{ref:t,id:n,className:"mb-4",children:(0,a.jsx)(j,{onClick:i,className:(0,o.cn)("cursor-pointer hover:shadow-lg transition-shadow duration-150 select-none","bg-card border-2 border-primary/50 hover:border-primary",l&&"ring-2 ring-accent ring-offset-2",d&&"bg-accent/30 border-accent"),role:"button",tabIndex:0,"aria-label":"Variable ".concat(r),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&i()},children:(0,a.jsx)(S,{className:"p-3 text-center",children:(0,a.jsx)("p",{className:"font-medium text-card-foreground truncate",children:r})})})})});M.displayName="VariableNode";var P=r(7481);function E(e){var t;let{variables:r,numPeriods:i,paths:o,onPathsChange:l}=e,{toast:d}=(0,P.dj)(),s=(0,n.useRef)(null),c=(0,n.useRef)(null),f=(0,n.useRef)(new Map),[u,m]=(0,n.useState)(new Map),[p,x]=(0,n.useState)({startNode:null,currentMousePos:null}),h=(0,n.useCallback)(()=>{if(!s.current)return;let e=new Map,t=s.current.getBoundingClientRect();r.forEach(r=>{for(let a=0;a<i;a++){let n="".concat(r.id,"-p").concat(a),i=f.current.get(n);if(i){let o=i.getBoundingClientRect(),l=o.left-t.left,d=o.top-t.top;e.set(n,{variableId:r.id,periodIndex:a,nodeId:n,x:l,y:d,width:o.width,height:o.height,centerX:l+o.width/2,centerY:d+o.height/2})}}}),m(new Map(e))},[r,i]);(0,n.useEffect)(()=>{h();let e=new ResizeObserver(()=>{h()});return s.current&&e.observe(s.current),f.current.forEach(t=>{t&&e.observe(t)}),()=>e.disconnect()},[h,r,i,o]);let v=(0,n.useMemo)(()=>{let e=new Map,t=new Map;for(let e=0;e<i;e++)t.set(e,{right:0,left:0});let a=[...o].sort((e,t)=>{if(e.from.periodIndex!==t.from.periodIndex)return e.from.periodIndex-t.from.periodIndex;let a=Math.min(r.findIndex(t=>t.id===e.from.variableId),r.findIndex(t=>t.id===e.to.variableId)),n=Math.max(r.findIndex(t=>t.id===e.from.variableId),r.findIndex(t=>t.id===e.to.variableId)),i="".concat(a,"-").concat(n),o=Math.min(r.findIndex(e=>e.id===t.from.variableId),r.findIndex(e=>e.id===t.to.variableId)),l=Math.max(r.findIndex(e=>e.id===t.from.variableId),r.findIndex(e=>e.id===t.to.variableId)),d="".concat(o,"-").concat(l);return i!==d?i.localeCompare(d):e.from.variableId.localeCompare(t.from.variableId)});for(let n of a){if(n.from.periodIndex!==n.to.periodIndex)continue;let i=r.findIndex(e=>e.id===n.from.variableId),o=r.findIndex(e=>e.id===n.to.variableId);if(-1===i||-1===o||!(Math.abs(i-o)>1)||e.has(n.id))continue;let l=n.from.periodIndex,d=t.get(l),s=a.find(e=>e.id!==n.id&&e.from.variableId===n.to.variableId&&e.to.variableId===n.from.variableId&&e.from.periodIndex===l&&e.to.periodIndex===l&&-1!==r.findIndex(t=>t.id===e.from.variableId)&&-1!==r.findIndex(t=>t.id===e.to.variableId)&&Math.abs(r.findIndex(t=>t.id===e.from.variableId)-r.findIndex(t=>t.id===e.to.variableId))>1);if(s&&!e.has(s.id)){let t=n.from.variableId<n.to.variableId,r=t?n:s,a=t?s:n;e.set(r.id,{direction:"right",lane:d.right}),d.right++,e.set(a.id,{direction:"left",lane:d.left}),d.left++}else!s&&(e.set(n.id,{direction:"right",lane:d.right}),d.right++)}return e},[o,r,i]),g=e=>{if(!s.current)return{x:0,y:0};let t=s.current.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},b=(e,t)=>{let r="".concat(e,"-p").concat(t),a=u.get(r);if(!a){console.error("Clicked node position not found:",r);return}if(p.startNode){let e=p.startNode;if(e.nodeId===a.nodeId&&e.periodIndex===a.periodIndex){d({title:"Invalid Path",description:"Cannot connect a variable to itself in the same period instance.",variant:"destructive"}),x({startNode:null,currentMousePos:null});return}if((a.periodIndex<e.periodIndex||a.periodIndex>e.periodIndex+1)&&e.variableId!==a.variableId){d({title:"Invalid Path",description:"Connections allowed only to variables in the same time period or the immediate next period.",variant:"destructive"}),x({startNode:null,currentMousePos:null});return}let t={id:crypto.randomUUID(),from:{variableId:e.variableId,periodIndex:e.periodIndex},to:{variableId:a.variableId,periodIndex:a.periodIndex}};o.some(e=>e.from.variableId===t.from.variableId&&e.from.periodIndex===t.from.periodIndex&&e.to.variableId===t.to.variableId&&e.to.periodIndex===t.to.periodIndex)?d({title:"Duplicate Path",description:"This path already exists.",variant:"destructive"}):l([...o,t]),x({startNode:null,currentMousePos:null})}else x({startNode:a,currentMousePos:{x:a.centerX,y:a.centerY}})};function y(e,t,r,a,n){let{x:i,y:o,width:l,height:d}=n,s=r-e,c=a-t,f=1/0,u=r,m=a,p=(e,t,r,a)=>{e>=0&&e<=1&&a&&e<f&&(f=e,u=t,m=r)};if(0!==c){let r=(o-t)/c;p(r,e+r*s,o,e+r*s>=i&&e+r*s<=i+l)}if(0!==c){let r=(o+d-t)/c;p(r,e+r*s,o+d,e+r*s>=i&&e+r*s<=i+l)}if(0!==s){let r=(i-e)/s;p(r,i,t+r*c,t+r*c>=o&&t+r*c<=o+d)}if(0!==s){let r=(i+l-e)/s;p(r,i+l,t+r*c,t+r*c>=o&&t+r*c<=o+d)}if(f<1/0&&f<=1)return{x:u,y:m};let x=Math.sqrt(s*s+c*c);return 0===x?{x:r,y:a}:x>10?{x:r-s/x*10,y:a-c/x*10}:{x:e+.75*s,y:t+.75*c}}return 0===r.length||0===i?(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Please add variables and define time periods to start building your diagram."}):(0,a.jsxs)("div",{ref:s,className:"w-full h-full overflow-auto relative bg-background p-1 sm:p-2 md:p-4 rounded-md border",onMouseMove:e=>{p.startNode&&x(t=>({...t,currentMousePos:g(e)}))},onClick:e=>{p.startNode&&(e.target===s.current||e.target===c.current)&&(x({startNode:null,currentMousePos:null}),d({title:"Path Drawing Cancelled",description:"Clicked on background."}))},children:[(0,a.jsx)("div",{className:"grid gap-x-1 sm:gap-x-2 md:gap-x-4 lg:gap-x-8",style:{gridTemplateColumns:"repeat(".concat(i,", minmax(150px, 1fr))")},children:Array.from({length:i}).map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-col items-center py-4",children:[(0,a.jsxs)("h3",{className:"text-sm font-semibold text-muted-foreground mb-2 p-1 bg-secondary rounded-sm",children:["Time Period ",t+1]}),r.map(e=>{var r;let n="".concat(e.id,"-p").concat(t),i=(null===(r=p.startNode)||void 0===r?void 0:r.nodeId)===n,o=!1;if(p.startNode){let r=p.startNode;o=(r.variableId!==e.id||r.periodIndex!==t)&&(r.variableId===e.id?t>r.periodIndex:t===r.periodIndex||t===r.periodIndex+1)}return(0,a.jsx)(M,{ref:e=>{f.current.set(n,e)},variableName:e.name,nodeId:n,onClick:()=>b(e.id,t),isDrawingSource:i,isValidTarget:o},n)})]},"period-".concat(t)))}),(0,a.jsxs)("svg",{ref:c,className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{minHeight:null===(t=s.current)||void 0===t?void 0:t.scrollHeight},children:[(0,a.jsx)("defs",{children:(0,a.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",markerUnits:"strokeWidth",children:(0,a.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",className:"fill-primary"})})}),o.map(e=>{let t=u.get("".concat(e.from.variableId,"-p").concat(e.from.periodIndex)),n=u.get("".concat(e.to.variableId,"-p").concat(e.to.periodIndex));if(!t||!n)return null;let i=e.from.periodIndex===e.to.periodIndex,o=r.findIndex(t=>t.id===e.from.variableId),l=r.findIndex(t=>t.id===e.to.variableId);if(i&&-1!==o&&-1!==l&&Math.abs(o-l)>1){let r=v.get(e.id),i="right",o=0;r?(i=r.direction,o=r.lane):console.warn("Path props not found for skipping path ".concat(e.id,", using default elbow."));let l="left"===i?-1:1,d=20+15*o,s="right"===i?t.x+t.width:t.x,c=t.centerY,f=s+d*l,u=n.centerY,{x:m,y:p}=y(f,u,n.centerX,n.centerY,n),x="M ".concat(s," ").concat(c," L ").concat(f," ").concat(c," L ").concat(f," ").concat(u," L ").concat(m," ").concat(p);return(0,a.jsx)("path",{d:x,className:"stroke-primary",strokeWidth:"2",markerEnd:"url(#arrowhead)",fill:"none"},e.id)}{let{x:r,y:i}=y(t.centerX,t.centerY,n.centerX,n.centerY,n);return(0,a.jsx)("line",{x1:t.centerX,y1:t.centerY,x2:r,y2:i,className:"stroke-primary",strokeWidth:"2",markerEnd:"url(#arrowhead)"},e.id)}}),p.startNode&&p.currentMousePos&&(0,a.jsx)("line",{x1:p.startNode.centerX,y1:p.startNode.centerY,x2:p.currentMousePos.x,y2:p.currentMousePos.y,className:"stroke-accent",strokeWidth:"2",strokeDasharray:"5,5",markerEnd:"url(#arrowhead)"})]})]})}let A=(0,g.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);function R(e){let{variables:t,paths:r}=e;return(0,a.jsxs)(v,{onClick:()=>{let e=new Blob([function(e,t){if(!e.length||!t.length)return"# No paths defined or variables missing.";let r=new Map(e.map(e=>[e.id,e.name])),a=["# Path Model generated by CausalFlow"];return(t.forEach(e=>{let t=r.get(e.from.variableId),n=r.get(e.to.variableId);if(!t||!n){console.warn("Skipping path due to missing variable names: ".concat(JSON.stringify(e)));return}let i="".concat(t,"_t").concat(e.from.periodIndex+1),o="".concat(n,"_t").concat(e.to.periodIndex+1);if(i===o){a.push("# Covariance for ".concat(i," (e.g., ").concat(i," ~~ ").concat(i,") can be specified for variance"));return}a.push("".concat(o," ~ ").concat(i))}),1===a.length)?"# No valid paths to export.":a.join("\n")}(t,r)],{type:"text/plain;charset=utf-8"}),a=document.createElement("a");a.href=URL.createObjectURL(e),a.download="causalflow_model.lav",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(a.href)},className:"w-full",variant:"default",disabled:0===r.length,children:[(0,a.jsx)(A,{className:"mr-2 h-4 w-4"})," Export Lavaan Script"]})}r(7650);var _=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=u(`Primitive.${t}`),i=n.forwardRef((e,n)=>{let{asChild:i,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(i?r:t,{...o,ref:n})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),D="horizontal",T=["horizontal","vertical"],O=n.forwardRef((e,t)=>{var r;let{decorative:n,orientation:i=D,...o}=e,l=(r=i,T.includes(r))?i:D;return(0,a.jsx)(_.div,{"data-orientation":l,...n?{role:"none"}:{"aria-orientation":"vertical"===l?l:void 0,role:"separator"},...o,ref:t})});O.displayName="Separator";let V=n.forwardRef((e,t)=>{let{className:r,orientation:n="horizontal",decorative:i=!0,...l}=e;return(0,a.jsx)(O,{ref:t,decorative:i,orientation:n,className:(0,o.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",r),...l})});V.displayName=O.displayName;let L=(0,g.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),z=(0,g.A)("CloudDownload",[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]]),Y=(0,g.A)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),U=(0,g.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function X(){let[e,t]=(0,n.useState)([]),[r,i]=(0,n.useState)(1),[o,l]=(0,n.useState)([]),[d,s]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{s(!0)},[]),d)?(0,a.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8 space-y-8 font-body",children:[(0,a.jsxs)("header",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-4xl sm:text-5xl font-headline font-bold text-primary",children:"CausalFlow"}),(0,a.jsx)("p",{className:"text-lg sm:text-xl text-foreground/80 mt-2",children:"Model complex causal relationships over time with ease."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,a.jsxs)("aside",{className:"lg:col-span-3 space-y-6",children:[(0,a.jsxs)(j,{className:"shadow-lg",children:[(0,a.jsxs)(w,{children:[(0,a.jsxs)(k,{className:"flex items-center text-xl",children:[(0,a.jsx)(L,{className:"mr-2 h-5 w-5 text-primary"}),"Configuration"]}),(0,a.jsx)(C,{children:"Define your model's parameters."})]}),(0,a.jsxs)(S,{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-md font-semibold mb-2 text-foreground/90",children:"1. Define Variables"}),(0,a.jsx)(y,{onAddVariable:e=>{t(t=>[...t,{id:crypto.randomUUID(),name:e}])},existingVariables:e})]}),(0,a.jsx)(V,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-md font-semibold mb-2 text-foreground/90",children:"2. Set Time Periods"}),(0,a.jsx)(N,{numPeriods:r,onSetNumPeriods:e=>{i(e)}})]})]})]}),(0,a.jsxs)(j,{className:"shadow-lg",children:[(0,a.jsxs)(w,{children:[(0,a.jsxs)(k,{className:"flex items-center text-xl",children:[(0,a.jsx)(z,{className:"mr-2 h-5 w-5 text-primary"}),"Export"]}),(0,a.jsx)(C,{children:"Download your model."})]}),(0,a.jsx)(S,{children:(0,a.jsx)(R,{variables:e,paths:o})})]})]}),(0,a.jsx)("main",{className:"lg:col-span-9",children:(0,a.jsxs)(j,{className:"shadow-xl h-full flex flex-col",children:[(0,a.jsxs)(w,{children:[(0,a.jsxs)(k,{className:"flex items-center text-2xl",children:[(0,a.jsx)(Y,{className:"mr-3 h-6 w-6 text-primary"}),"Causal Path Diagram"]}),(0,a.jsx)(C,{children:"Click on a variable node to start drawing a path. Click on another valid node (same or next period) to complete the path. Connections are directed from the first clicked node to the second."})]}),(0,a.jsx)(S,{className:"flex-grow min-h-[400px] sm:min-h-[500px] md:min-h-[600px] lg:min-h-[700px] relative",children:e.length>0&&r>0?(0,a.jsx)(E,{variables:e,numPeriods:r,paths:o,onPathsChange:e=>{l(e)}}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center text-muted-foreground p-8 rounded-md border-2 border-dashed",children:[(0,a.jsx)(U,{className:"w-16 h-16 mb-4 text-accent"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:"Diagram Area"}),(0,a.jsx)("p",{children:"Please add variables and set time periods in the configuration panel to begin."})]})})]})})]})]}):(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("p",{children:"Loading CausalFlow..."})})}},7481:(e,t,r)=>{"use strict";r.d(t,{dj:()=>u});var a=r(2115);let n=0,i=new Map,o=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?o(r):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],s={toasts:[]};function c(e){s=l(s,e),d.forEach(e=>{e(s)})}function f(e){let{...t}=e,r=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function u(){let[e,t]=a.useState(s);return a.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:f,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},8636:(e,t,r)=>{Promise.resolve().then(r.bind(r,2676))},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var a=r(2596),n=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[11,441,684,358],()=>t(8636)),_N_E=e.O()}]);